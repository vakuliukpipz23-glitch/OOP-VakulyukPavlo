# Лабораторна робота №20

## Тема
SRP: декомпозиція OrderProcessor

## Мета роботи
Застосувати принцип єдиної відповідальності (Single Responsibility Principle, SRP) для
рефакторингу складного класу OrderProcessor шляхом його декомпозиції на менші,
більш сфокусовані компоненти з використанням інтерфейсів та Dependency Injection.

---

## Теоретичні відомості

**Single Responsibility Principle (SRP)** — один із принципів SOLID, який стверджує, що:
> кожен клас повинен мати лише одну відповідальність і одну причину для зміни.

Порушення SRP призводить до:
- складності підтримки коду;
- важкого тестування;
- сильного зв’язку між компонентами.

---

## Початковий стан (порушення SRP)

У початковій реалізації клас `OrderProcessor` виконував одразу кілька завдань:
- валідацію замовлення;
- збереження замовлення;
- відправку email-сповіщення;
- зміну статусу замовлення.

Це є прямим порушенням принципу SRP, оскільки клас мав більше ніж одну відповідальність.

---

## Рефакторинг відповідно до SRP

Для дотримання SRP функціональність була розділена на окремі інтерфейси та класи:

### Інтерфейси:
- `IOrderValidator` — відповідає за валідацію замовлення;
- `IOrderRepository` — відповідає за збереження та отримання замовлень;
- `IEmailService` — відповідає за email-сповіщення клієнтів.

### Реалізації:
- `OrderValidator` — перевіряє коректність замовлення;
- `InMemoryOrderRepository` — імітація бази даних;
- `ConsoleEmailService` — імітація email-сервісу.

### Координуючий клас:
- `OrderService` — координує роботу всіх компонентів і приймає залежності через конструктор (Dependency Injection).

---

## Демонстрація роботи

У методі `Main`:
- створюються екземпляри всіх сервісів;
- обробляється валідне замовлення;
- обробляється невалідне замовлення;
- результати виводяться в консоль.

---

## Висновки

У ході виконання лабораторної роботи:
- було вивчено та застосовано принцип SRP;
- виконано декомпозицію складного класу;
- реалізовано Dependency Injection;
- покращено читабельність, підтримуваність та масштабованість коду.

Принцип SRP дозволяє створювати гнучку архітектуру, спрощує тестування та зменшує
зв’язність між компонентами системи.
